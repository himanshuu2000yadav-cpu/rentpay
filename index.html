<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>EasyRent Pay ‚Äì Smart Property Payment Platform</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{margin:0;background:#f4f8ff;color:#222}
header{background:#0d47a1;color:#fff;padding:22px;text-align:center}
.container{max-width:900px;margin:30px auto;padding:0 15px}
.card{background:#fff;border-radius:10px;padding:20px;margin-bottom:25px;box-shadow:0 4px 12px rgba(0,0,0,.08)}
h2{color:#0d47a1}
label{display:block;margin:12px 0 6px;font-weight:600}
input,select{width:100%;padding:12px;border-radius:6px;border:1px solid #ccc}
.msg{font-size:13px;margin-top:4px}
.valid{color:green}
.invalid{color:red}
.total{background:#e3f2fd;padding:15px;border-left:5px solid #0d47a1;font-size:18px;font-weight:700;margin-top:15px}
button{width:100%;padding:15px;margin-top:20px;border:none;border-radius:8px;background:#1976d2;color:#fff;font-size:18px;font-weight:700;cursor:pointer}
footer{text-align:center;font-size:12px;color:#444;padding:25px;background:#f1f5ff}
.center{display:flex;align-items:center;justify-content:center;height:100vh}
.success{background:#fff;padding:30px;border-radius:14px;text-align:center;box-shadow:0 10px 25px rgba(0,0,0,.15)}
.success h2{color:green}
</style>
</head>

<body>

<header>
<h1>üè† EasyRent Pay</h1>
<p>Secure Property Payments</p>
</header>

<div class="container" id="mainForm">

<div class="card">
<h2>Payer Details</h2>
<label>Full Name *</label>
<input id="payerName">
<label>Mobile *</label>
<input id="mobile">
<label>Amount (‚Çπ) *</label>
<input id="amount" type="number" oninput="calculate()">
</div>

<div class="card">
<h2>Beneficiary Details</h2>
<label>Beneficiary Name *</label>
<input id="beneficiary">

<label>Receive Via *</label>
<select id="receiveMethod" onchange="toggleFields()">
<option value="">Select</option>
<option value="upi">UPI ID</option>
<option value="bank">Bank Account</option>
</select>

<div id="upiBox" style="display:none">
<label>UPI ID *</label>
<input id="upi" oninput="validateUPI()">
<div id="upiMsg" class="msg"></div>
</div>

<div id="bankBox" style="display:none">
<label>Account Number *</label>
<input id="account" oninput="validateAccount()">
<div id="accMsg" class="msg"></div>
<label>IFSC *</label>
<input id="ifsc" oninput="validateIFSC()">
<div id="ifscMsg" class="msg"></div>
<div id="bankName" class="msg"></div>
</div>

<label>Purpose *</label>
<select id="purpose">
<option value="">Select</option>
<option>Rent</option>
<option>Maintenance</option>
</select>
</div>

<div class="card">
<h2>Payment Method *</h2>
<select id="method" onchange="calculate()">
<option value="">Select</option>
<option value="upi">UPI</option>
<option value="debit">Debit (+‚Çπ20)</option>
<option value="credit">Credit (+2.5%)</option>
</select>

<div class="total" id="totalPayable">Total Payable: ‚Çπ0</div>
<button onclick="openConfirm()">Proceed</button>
</div>

</div>

<!-- CONFIRM -->
<div id="confirmModal" class="center" style="display:none">
<div class="success">
<h2>Confirm Payment</h2>
<p id="confirmText"></p>
<button onclick="confirmPay()">Confirm & Pay</button>
<button onclick="closeConfirm()">Cancel</button>
</div>
</div>

<!-- SUCCESS -->
<div id="successScreen" class="center" style="display:none">
<div class="success">
<h2>‚úÖ Payment Successful</h2>
<p id="successText"></p>
<button onclick="location.reload()">Done</button>
</div>
</div>

<footer>
<strong>Important Disclaimer</strong><br>
Payments processed via RBI-authorised partners
</footer>

<script>
let finalAmount=0,maskedInfo="";

/* helpers */
const maskMobile=m=>m[0]+"******"+m.slice(-3);
const maskAcc=a=>"********"+a.slice(-4);
const maskUPI=u=>u.slice(0,2)+"***"+u.slice(u.indexOf("@"));

function calculate(){
let amt=+amount.value||0,fee=0;
if(method.value==="credit") fee=amt*0.025;
if(method.value==="debit") fee=20;
finalAmount=amt+fee;
totalPayable.innerText="Total Payable: ‚Çπ"+finalAmount.toFixed(2);
}

function toggleFields(){
upiBox.style.display=receiveMethod.value==="upi"?"block":"none";
bankBox.style.display=receiveMethod.value==="bank"?"block":"none";
}

function validateUPI(){
upiMsg.innerHTML=/^[\w.\-]{2,}@[a-zA-Z]{2,}$/.test(upi.value)
?"<span class='valid'>‚úî Looks valid</span>"
:"<span class='invalid'>‚úñ Invalid UPI</span>";
}

function validateAccount(){
accMsg.innerHTML=/^[0-9]{9,18}$/.test(account.value)
?"<span class='valid'>‚úî Looks valid</span>"
:"<span class='invalid'>‚úñ Invalid</span>";
}

function validateIFSC(){
if(/^[A-Z]{4}0[A-Z0-9]{6}$/.test(ifsc.value)){
ifscMsg.innerHTML="<span class='valid'>‚úî IFSC valid</span>";
bankName.innerHTML="Bank detected";
}else{
ifscMsg.innerHTML="<span class='invalid'>‚úñ Invalid IFSC</span>";
bankName.innerHTML="";
}
}

function openConfirm(){
if(!payerName.value||!mobile.value||!amount.value||!beneficiary.value||!purpose.value||!method.value){
alert("Fill all required fields");return;
}
let receive="";
if(receiveMethod.value==="upi"){
if(!/^[\w.\-]{2,}@[a-zA-Z]{2,}$/.test(upi.value)){alert("Invalid UPI");return;}
receive="UPI "+maskUPI(upi.value);
}else{
if(!/^[0-9]{9,18}$/.test(account.value)){alert("Invalid account");return;}
receive="A/c "+maskAcc(account.value);
}
maskedInfo=`
Payer: ${payerName.value}
Mobile: ${maskMobile(mobile.value)}
Beneficiary: ${beneficiary.value}
Receive Via: ${receive}
Total: ‚Çπ${finalAmount.toFixed(2)}
`;
confirmText.innerText=maskedInfo;
confirmModal.style.display="flex";
}

function closeConfirm(){confirmModal.style.display="none";}

function confirmPay(){
closeConfirm();
new Razorpay({
key:"rzp_live_S5dHw17cdqIxuk",
amount:Math.round(finalAmount*100),
currency:"INR",
handler:r=>{
mainForm.style.display="none";
successText.innerText=maskedInfo+"\nPayment ID: "+r.razorpay_payment_id;
successScreen.style.display="flex";
}
}).open();
}
</script>

</body>
</html>
